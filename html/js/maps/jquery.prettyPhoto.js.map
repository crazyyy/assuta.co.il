{"version":3,"sources":["jquery.prettyPhoto.js"],"names":["$","getHashtag","url","location","href","hashtag","indexOf","decodeURI","substring","length","setHashtag","theRel","hash","rel_index","clearHashtag","getParam","name","replace","regexS","regex","RegExp","results","exec","prettyPhoto","version","fn","pp_settings","_showContent","hide","projectedTop","scroll_pos","windowHeight","pp_dimensions","$ppt","fadeTo","settings","animation_speed","$pp_pic_holder","find","animate","height","width","top","left","windowWidth","fadeIn","isSet","_getFileType","pp_images","set_position","show","allow_expand","autoplay_slideshow","pp_slideshow","pp_open","startSlideshow","changepicturecallback","_insert_gallery","ajaxcallback","_hideContent","callback","css","fadeOut","_checkPosition","setCount","_fitToViewport","resized","_getDimensions","imageWidth","imageHeight","pp_containerWidth","pp_containerHeight","doresize","allow_resize","percentBased","fitting","Math","floor","containerHeight","containerWidth","horizontal_padding","contentHeight","pp_contentHeight","contentWidth","pp_contentWidth","parseFloat","$pp_details","detailsHeight","clone","addClass","theme","appendTo","position","remove","$pp_title","titleHeight","itemSrc","match","substr","_center_overlay","_get_scroll","contentwidth","self","pageYOffset","scrollTop","scrollLeft","pageXOffset","document","documentElement","body","_resize_overlay","window","$pp_overlay","overlay_gallery","itemWidth","navWidth","itemsPerPage","totalPage","ceil","$pp_gallery","galleryWidth","fullGalleryWidth","removeClass","goToPage","changeGalleryPage","$pp_gallery_li","filter","unbind","_build_overlay","caller","social_tools","facebook_like_link","encodeURIComponent","markup","append","currentGalleryPage","toInject","i","classname","img_src","gallery_markup","after","click","stopSlideshow","hover","each","this","changePage","slideshow","prepend","attr","opacity","bind","modal","close","e","hasClass","open","jQuery","extend","hook","show_title","default_width","default_height","counter_separator_label","hideflash","wmode","autoplay","deeplinking","overlay_gallery_max","keyboard_shortcuts","ie6_fallback","image_markup","flash_markup","quicktime_markup","iframe_markup","inline_markup","custom_markup","matchedObjects","is","keyCode","preventDefault","initialize","galleryRegExp","map","n","makeArray","pp_titles","pp_descriptions","inArray","index","event","arguments","target","size","html","text","unescape","movie_width","toString","movie_height","imgPreloader","skipInjection","Image","nextImage","src","prevImage","innerHTML","onload","onerror","alert","movie_id","split","movie","regExp","vimeo_width","flash_vars","filename","frame_url","get","responseHTML","myClone","wrapInner","direction","slide_speed","slide_to","setInterval","clearInterval","undefined","stop","pp_alreadyInitialized","hashIndex","hashRel","setTimeout","trigger"],"mappings":"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","file":"jquery.prettyPhoto.js","sourcesContent":["/* ------------------------------------------------------------------------\n  Class: prettyPhoto\n  Use: Lightbox clone for jQuery\n  Author: Stephane Caron (http://www.no-margin-for-errors.com)\n  Version: 3.1.5\n------------------------------------------------------------------------- */\n(function($) {\n  $.prettyPhoto = {\n    version: '3.1.5'\n  };\n\n  $.fn.prettyPhoto = function(pp_settings) {\n    pp_settings = jQuery.extend({\n      hook: 'rel',\n      /* the attribute tag to use for prettyPhoto hooks. default: 'rel'. For HTML5, use \"data-rel\" or similar. */\n      animation_speed: 'fast',\n      /* fast/slow/normal */\n      ajaxcallback: function() {},\n      slideshow: 5000,\n      /* false OR interval time in ms */\n      autoplay_slideshow: false,\n      /* true/false */\n      opacity: 0.80,\n      /* Value between 0 and 1 */\n      show_title: true,\n      /* true/false */\n      allow_resize: true,\n      /* Resize the photos bigger than viewport. true/false */\n      allow_expand: true,\n      /* Allow the user to expand a resized image. true/false */\n      default_width: 500,\n      default_height: 344,\n      counter_separator_label: '/',\n      /* The separator for the gallery counter 1 \"of\" 2 */\n      theme: 'pp_default',\n      /* light_rounded / dark_rounded / light_square / dark_square / facebook */\n      horizontal_padding: 20,\n      /* The padding on each side of the picture */\n      hideflash: false,\n      /* Hides all the flash object on a page, set to TRUE if flash appears over prettyPhoto */\n      wmode: 'opaque',\n      /* Set the flash wmode attribute */\n      autoplay: true,\n      /* Automatically start videos: True/False */\n      modal: false,\n      /* If set to true, only the close button will close the window */\n      deeplinking: true,\n      /* Allow prettyPhoto to update the url to enable deeplinking. */\n      overlay_gallery: true,\n      /* If set to true, a gallery will overlay the fullscreen image on mouse over */\n      overlay_gallery_max: 30,\n      /* Maximum number of pictures in the overlay gallery */\n      keyboard_shortcuts: true,\n      /* Set to false if you open forms inside prettyPhoto */\n      changepicturecallback: function() {},\n      /* Called everytime an item is shown/changed */\n      callback: function() {},\n      /* Called when prettyPhoto is closed */\n      ie6_fallback: true,\n      markup: '<div class=\"pp_pic_holder\"> \\\n            <div class=\"ppt\">&nbsp;</div> \\\n            <div class=\"pp_top\"> \\\n              <div class=\"pp_left\"></div> \\\n              <div class=\"pp_middle\"></div> \\\n              <div class=\"pp_right\"></div> \\\n            </div> \\\n            <div class=\"pp_content_container\"> \\\n              <div class=\"pp_details\"> \\\n                      \\\n                      <p class=\"pp_description\"></p> \\\n                      \\\n                      <a class=\"pp_close\" href=\"#\">Close</a> \\\n                    </div> \\\n              <div class=\"pp_left\"> \\\n              <div class=\"pp_right\"> \\\n                <div class=\"pp_content\"> \\\n                  <div class=\"pp_loaderIcon\"></div> \\\n                  <div class=\"pp_fade\"> \\\n                    <a href=\"#\" class=\"pp_expand\" title=\"Expand the image\">Expand</a> \\\n                    <div class=\"pp_hoverContainer\"> \\\n                      <a class=\"pp_next\" href=\"#\">next</a> \\\n                      <a class=\"pp_previous\" href=\"#\">previous</a> \\\n                    </div> \\\n                    <div id=\"pp_full_res\"></div> \\\n                    \\\n                  </div> \\\n                </div> \\\n              </div> \\\n              </div> \\\n            </div> \\\n            <div class=\"pp_bottom\"> \\\n              <div class=\"pp_left\"></div> \\\n              <div class=\"pp_middle\"></div> \\\n              <div class=\"pp_right\"></div> \\\n            </div> \\\n          </div> \\\n          <div class=\"pp_overlay\"></div>',\n      gallery_markup: '<div class=\"pp_gallery\"> \\\n                <a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \\\n                <div> \\\n                  <ul> \\\n                    {gallery} \\\n                  </ul> \\\n                </div> \\\n                <a href=\"#\" class=\"pp_arrow_next\">Next</a> \\\n              </div>',\n      image_markup: '<img id=\"fullResImage\" src=\"{path}\" />',\n      flash_markup: '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"{width}\" height=\"{height}\"><param name=\"wmode\" value=\"{wmode}\" /><param name=\"allowfullscreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"movie\" value=\"{path}\" /><embed src=\"{path}\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\" width=\"{width}\" height=\"{height}\" wmode=\"{wmode}\"></embed></object>',\n      quicktime_markup: '<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" codebase=\"http://www.apple.com/qtactivex/qtplugin.cab\" height=\"{height}\" width=\"{width}\"><param name=\"src\" value=\"{path}\"><param name=\"autoplay\" value=\"{autoplay}\"><param name=\"type\" value=\"video/quicktime\"><embed src=\"{path}\" height=\"{height}\" width=\"{width}\" autoplay=\"{autoplay}\" type=\"video/quicktime\" pluginspage=\"http://www.apple.com/quicktime/download/\"></embed></object>',\n      iframe_markup: '<iframe src =\"{path}\" width=\"{width}\" height=\"{height}\" frameborder=\"no\"></iframe>',\n      inline_markup: '<div class=\"pp_inline\">{content}</div>',\n      custom_markup: '',\n      social_tools: '' /* html or false to disable */\n    }, pp_settings);\n\n    // Global variables accessible only by prettyPhoto\n    var matchedObjects = this,\n      percentBased = false,\n      pp_dimensions, pp_open,\n\n      // prettyPhoto container specific\n      pp_contentHeight, pp_contentWidth, pp_containerHeight, pp_containerWidth,\n\n      // Window size\n      windowHeight = $(window).height(),\n      windowWidth = $(window).width(),\n\n      // Global elements\n      pp_slideshow;\n\n    doresize = true, scroll_pos = _get_scroll();\n\n    // Window/Keyboard events\n    $(window).unbind('resize.prettyphoto').bind('resize.prettyphoto', function() {\n      _center_overlay();\n      _resize_overlay();\n    });\n\n    if (pp_settings.keyboard_shortcuts) {\n      $(document).unbind('keydown.prettyphoto').bind('keydown.prettyphoto', function(e) {\n        if (typeof $pp_pic_holder != 'undefined') {\n          if ($pp_pic_holder.is(':visible')) {\n            switch (e.keyCode) {\n              case 37:\n                $.prettyPhoto.changePage('previous');\n                e.preventDefault();\n                break;\n              case 39:\n                $.prettyPhoto.changePage('next');\n                e.preventDefault();\n                break;\n              case 27:\n                if (!settings.modal)\n                  $.prettyPhoto.close();\n                e.preventDefault();\n                break;\n            };\n            // return false;\n          };\n        };\n      });\n    };\n\n    /**\n     * Initialize prettyPhoto.\n     */\n    $.prettyPhoto.initialize = function() {\n\n      settings = pp_settings;\n\n      if (settings.theme == 'pp_default') settings.horizontal_padding = 16;\n\n      // Find out if the picture is part of a set\n      theRel = $(this).attr(settings.hook);\n      galleryRegExp = /\\[(?:.*)\\]/;\n      isSet = (galleryRegExp.exec(theRel)) ? true : false;\n\n      // Put the SRCs, TITLEs, ALTs into an array.\n      pp_images = (isSet) ? jQuery.map(matchedObjects, function(n, i) {\n        if ($(n).attr(settings.hook).indexOf(theRel) != -1) return $(n).attr('href');\n      }) : $.makeArray($(this).attr('href'));\n      pp_titles = (isSet) ? jQuery.map(matchedObjects, function(n, i) {\n        if ($(n).attr(settings.hook).indexOf(theRel) != -1) return ($(n).find('img').attr('alt')) ? $(n).find('img').attr('alt') : \"\";\n      }) : $.makeArray($(this).find('img').attr('alt'));\n      pp_descriptions = (isSet) ? jQuery.map(matchedObjects, function(n, i) {\n        if ($(n).attr(settings.hook).indexOf(theRel) != -1) return ($(n).attr('title')) ? $(n).attr('title') : \"\";\n      }) : $.makeArray($(this).attr('title'));\n\n      if (pp_images.length > settings.overlay_gallery_max) settings.overlay_gallery = false;\n\n      set_position = jQuery.inArray($(this).attr('href'), pp_images); // Define where in the array the clicked item is positionned\n      rel_index = (isSet) ? set_position : $(\"a[\" + settings.hook + \"^='\" + theRel + \"']\").index($(this));\n\n      _build_overlay(this); // Build the overlay {this} being the caller\n\n      if (settings.allow_resize)\n        $(window).bind('scroll.prettyphoto', function() {\n          _center_overlay();\n        });\n\n\n      $.prettyPhoto.open();\n\n      return false;\n    }\n\n\n    /**\n     * Opens the prettyPhoto modal box.\n     * @param image {String,Array} Full path to the image to be open, can also be an array containing full images paths.\n     * @param title {String,Array} The title to be displayed with the picture, can also be an array containing all the titles.\n     * @param description {String,Array} The description to be displayed with the picture, can also be an array containing all the descriptions.\n     */\n    $.prettyPhoto.open = function(event) {\n      if (typeof settings == \"undefined\") { // Means it's an API call, need to manually get the settings and set the variables\n        settings = pp_settings;\n        pp_images = $.makeArray(arguments[0]);\n        pp_titles = (arguments[1]) ? $.makeArray(arguments[1]) : $.makeArray(\"\");\n        pp_descriptions = (arguments[2]) ? $.makeArray(arguments[2]) : $.makeArray(\"\");\n        isSet = (pp_images.length > 1) ? true : false;\n        set_position = (arguments[3]) ? arguments[3] : 0;\n        _build_overlay(event.target); // Build the overlay {this} being the caller\n      }\n\n      if (settings.hideflash) $('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility', 'hidden'); // Hide the flash\n\n      _checkPosition($(pp_images).size()); // Hide the next/previous links if on first or last images.\n\n      $('.pp_loaderIcon').show();\n\n      if (settings.deeplinking)\n        setHashtag();\n\n      // Rebuild Facebook Like Button with updated href\n      if (settings.social_tools) {\n        facebook_like_link = settings.social_tools.replace('{location_href}', encodeURIComponent(location.href));\n        $pp_pic_holder.find('.pp_social').html(facebook_like_link);\n      }\n\n      // Fade the content in\n      if ($ppt.is(':hidden')) $ppt.css('opacity', 0).show();\n      $pp_overlay.show().fadeTo(settings.animation_speed, settings.opacity);\n\n      // Display the current position\n      $pp_pic_holder.find('.currentTextHolder').text((set_position + 1) + settings.counter_separator_label + $(pp_images).size());\n\n      // Set the description\n      if (typeof pp_descriptions[set_position] != 'undefined' && pp_descriptions[set_position] != \"\") {\n        $pp_pic_holder.find('.pp_description').show().html(unescape(pp_descriptions[set_position]));\n      } else {\n        $pp_pic_holder.find('.pp_description').hide();\n      }\n\n      // Get the dimensions\n      movie_width = (parseFloat(getParam('width', pp_images[set_position]))) ? getParam('width', pp_images[set_position]) : settings.default_width.toString();\n      movie_height = (parseFloat(getParam('height', pp_images[set_position]))) ? getParam('height', pp_images[set_position]) : settings.default_height.toString();\n\n      // If the size is % based, calculate according to window dimensions\n      percentBased = false;\n      if (movie_height.indexOf('%') != -1) {\n        movie_height = parseFloat(($(window).height() * parseFloat(movie_height) / 100) - 150);\n        percentBased = true;\n      }\n      if (movie_width.indexOf('%') != -1) {\n        movie_width = parseFloat(($(window).width() * parseFloat(movie_width) / 100) - 150);\n        percentBased = true;\n      }\n\n      // Fade the holder\n      $pp_pic_holder.fadeIn(function() {\n        // Set the title\n        (settings.show_title && pp_titles[set_position] != \"\" && typeof pp_titles[set_position] != \"undefined\") ? $ppt.html(unescape(pp_titles[set_position])): $ppt.html('&nbsp;');\n\n        imgPreloader = \"\";\n        skipInjection = false;\n\n        // Inject the proper content\n        switch (_getFileType(pp_images[set_position])) {\n          case 'image':\n            imgPreloader = new Image();\n\n            // Preload the neighbour images\n            nextImage = new Image();\n            if (isSet && set_position < $(pp_images).size() - 1) nextImage.src = pp_images[set_position + 1];\n            prevImage = new Image();\n            if (isSet && pp_images[set_position - 1]) prevImage.src = pp_images[set_position - 1];\n\n            $pp_pic_holder.find('#pp_full_res')[0].innerHTML = settings.image_markup.replace(/{path}/g, pp_images[set_position]);\n\n            imgPreloader.onload = function() {\n              // Fit item to viewport\n              pp_dimensions = _fitToViewport(imgPreloader.width, imgPreloader.height);\n\n              _showContent();\n            };\n\n            imgPreloader.onerror = function() {\n              alert('Image cannot be loaded. Make sure the path is correct and image exist.');\n              $.prettyPhoto.close();\n            };\n\n            imgPreloader.src = pp_images[set_position];\n            break;\n\n          case 'youtube':\n            pp_dimensions = _fitToViewport(movie_width, movie_height); // Fit item to viewport\n\n            // Regular youtube link\n            movie_id = getParam('v', pp_images[set_position]);\n\n            // youtu.be link\n            if (movie_id == \"\") {\n              movie_id = pp_images[set_position].split('youtu.be/');\n              movie_id = movie_id[1];\n              if (movie_id.indexOf('?') > 0)\n                movie_id = movie_id.substr(0, movie_id.indexOf('?')); // Strip anything after the ?\n\n              if (movie_id.indexOf('&') > 0)\n                movie_id = movie_id.substr(0, movie_id.indexOf('&')); // Strip anything after the &\n            }\n\n            movie = 'http://www.youtube.com/embed/' + movie_id;\n            (getParam('rel', pp_images[set_position])) ? movie += \"?rel=\" + getParam('rel', pp_images[set_position]): movie += \"?rel=1\";\n\n            if (settings.autoplay) movie += \"&autoplay=1\";\n\n            toInject = settings.iframe_markup.replace(/{width}/g, pp_dimensions['width']).replace(/{height}/g, pp_dimensions['height']).replace(/{wmode}/g, settings.wmode).replace(/{path}/g, movie);\n            break;\n\n          case 'vimeo':\n            pp_dimensions = _fitToViewport(movie_width, movie_height); // Fit item to viewport\n\n            movie_id = pp_images[set_position];\n            var regExp = /http(s?):\\/\\/(www\\.)?vimeo.com\\/(\\d+)/;\n            var match = movie_id.match(regExp);\n\n            movie = 'http://player.vimeo.com/video/' + match[3] + '?title=0&amp;byline=0&amp;portrait=0';\n            if (settings.autoplay) movie += \"&autoplay=1;\";\n\n            vimeo_width = pp_dimensions['width'] + '/embed/?moog_width=' + pp_dimensions['width'];\n\n            toInject = settings.iframe_markup.replace(/{width}/g, vimeo_width).replace(/{height}/g, pp_dimensions['height']).replace(/{path}/g, movie);\n            break;\n\n          case 'quicktime':\n            pp_dimensions = _fitToViewport(movie_width, movie_height); // Fit item to viewport\n            pp_dimensions['height'] += 15;\n            pp_dimensions['contentHeight'] += 15;\n            pp_dimensions['containerHeight'] += 15; // Add space for the control bar\n\n            toInject = settings.quicktime_markup.replace(/{width}/g, pp_dimensions['width']).replace(/{height}/g, pp_dimensions['height']).replace(/{wmode}/g, settings.wmode).replace(/{path}/g, pp_images[set_position]).replace(/{autoplay}/g, settings.autoplay);\n            break;\n\n          case 'flash':\n            pp_dimensions = _fitToViewport(movie_width, movie_height); // Fit item to viewport\n\n            flash_vars = pp_images[set_position];\n            flash_vars = flash_vars.substring(pp_images[set_position].indexOf('flashvars') + 10, pp_images[set_position].length);\n\n            filename = pp_images[set_position];\n            filename = filename.substring(0, filename.indexOf('?'));\n\n            toInject = settings.flash_markup.replace(/{width}/g, pp_dimensions['width']).replace(/{height}/g, pp_dimensions['height']).replace(/{wmode}/g, settings.wmode).replace(/{path}/g, filename + '?' + flash_vars);\n            break;\n\n          case 'iframe':\n            pp_dimensions = _fitToViewport(movie_width, movie_height); // Fit item to viewport\n\n            frame_url = pp_images[set_position];\n            frame_url = frame_url.substr(0, frame_url.indexOf('iframe') - 1);\n\n            toInject = settings.iframe_markup.replace(/{width}/g, pp_dimensions['width']).replace(/{height}/g, pp_dimensions['height']).replace(/{path}/g, frame_url);\n            break;\n\n          case 'ajax':\n            doresize = false; // Make sure the dimensions are not resized.\n            pp_dimensions = _fitToViewport(movie_width, movie_height);\n            doresize = true; // Reset the dimensions\n\n            skipInjection = true;\n            $.get(pp_images[set_position], function(responseHTML) {\n              toInject = settings.inline_markup.replace(/{content}/g, responseHTML);\n              $pp_pic_holder.find('#pp_full_res')[0].innerHTML = toInject;\n              _showContent();\n            });\n\n            break;\n\n          case 'custom':\n            pp_dimensions = _fitToViewport(movie_width, movie_height); // Fit item to viewport\n\n            toInject = settings.custom_markup;\n            break;\n\n          case 'inline':\n            // to get the item height clone it, apply default width, wrap it in the prettyPhoto containers , then delete\n            myClone = $(pp_images[set_position]).clone().append('<br clear=\"all\" />').css({\n              'width': settings.default_width\n            }).wrapInner('<div id=\"pp_full_res\"><div class=\"pp_inline\"></div></div>').appendTo($('body')).show();\n            doresize = false; // Make sure the dimensions are not resized.\n            pp_dimensions = _fitToViewport($(myClone).width(), $(myClone).height());\n            doresize = true; // Reset the dimensions\n            $(myClone).remove();\n            toInject = settings.inline_markup.replace(/{content}/g, $(pp_images[set_position]).html());\n            break;\n        };\n\n        if (!imgPreloader && !skipInjection) {\n          $pp_pic_holder.find('#pp_full_res')[0].innerHTML = toInject;\n\n          // Show content\n          _showContent();\n        };\n      });\n\n      return false;\n    };\n\n\n    /**\n     * Change page in the prettyPhoto modal box\n     * @param direction {String} Direction of the paging, previous or next.\n     */\n    $.prettyPhoto.changePage = function(direction) {\n      currentGalleryPage = 0;\n\n      if (direction == 'previous') {\n        set_position--;\n        if (set_position < 0) set_position = $(pp_images).size() - 1;\n      } else if (direction == 'next') {\n        set_position++;\n        if (set_position > $(pp_images).size() - 1) set_position = 0;\n      } else {\n        set_position = direction;\n      };\n\n      rel_index = set_position;\n\n      if (!doresize) doresize = true; // Allow the resizing of the images\n      if (settings.allow_expand) {\n        $('.pp_contract').removeClass('pp_contract').addClass('pp_expand');\n      }\n\n      _hideContent(function() {\n        $.prettyPhoto.open();\n      });\n    };\n\n\n    /**\n     * Change gallery page in the prettyPhoto modal box\n     * @param direction {String} Direction of the paging, previous or next.\n     */\n    $.prettyPhoto.changeGalleryPage = function(direction) {\n      if (direction == 'next') {\n        currentGalleryPage++;\n\n        if (currentGalleryPage > totalPage) currentGalleryPage = 0;\n      } else if (direction == 'previous') {\n        currentGalleryPage--;\n\n        if (currentGalleryPage < 0) currentGalleryPage = totalPage;\n      } else {\n        currentGalleryPage = direction;\n      };\n\n      slide_speed = (direction == 'next' || direction == 'previous') ? settings.animation_speed : 0;\n\n      slide_to = currentGalleryPage * (itemsPerPage * itemWidth);\n\n      $pp_gallery.find('ul').animate({\n        left: -slide_to\n      }, slide_speed);\n    };\n\n\n    /**\n     * Start the slideshow...\n     */\n    $.prettyPhoto.startSlideshow = function() {\n      if (typeof pp_slideshow == 'undefined') {\n        $pp_pic_holder.find('.pp_play').unbind('click').removeClass('pp_play').addClass('pp_pause').click(function() {\n          $.prettyPhoto.stopSlideshow();\n          return false;\n        });\n        pp_slideshow = setInterval($.prettyPhoto.startSlideshow, settings.slideshow);\n      } else {\n        $.prettyPhoto.changePage('next');\n      };\n    }\n\n\n    /**\n     * Stop the slideshow...\n     */\n    $.prettyPhoto.stopSlideshow = function() {\n      $pp_pic_holder.find('.pp_pause').unbind('click').removeClass('pp_pause').addClass('pp_play').click(function() {\n        $.prettyPhoto.startSlideshow();\n        return false;\n      });\n      clearInterval(pp_slideshow);\n      pp_slideshow = undefined;\n    }\n\n\n    /**\n     * Closes prettyPhoto.\n     */\n    $.prettyPhoto.close = function() {\n      if ($pp_overlay.is(\":animated\")) return;\n\n      $.prettyPhoto.stopSlideshow();\n\n      $pp_pic_holder.stop().find('object,embed').css('visibility', 'hidden');\n\n      $('div.pp_pic_holder,div.ppt,.pp_fade').fadeOut(settings.animation_speed, function() {\n        $(this).remove();\n      });\n\n      $pp_overlay.fadeOut(settings.animation_speed, function() {\n\n        if (settings.hideflash) $('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility', 'visible'); // Show the flash\n\n        $(this).remove(); // No more need for the prettyPhoto markup\n\n        $(window).unbind('scroll.prettyphoto');\n\n        clearHashtag();\n\n        settings.callback();\n\n        doresize = true;\n\n        pp_open = false;\n\n        delete settings;\n      });\n    };\n\n    /**\n     * Set the proper sizes on the containers and animate the content in.\n     */\n    function _showContent() {\n      $('.pp_loaderIcon').hide();\n\n      // Calculate the opened top position of the pic holder\n      projectedTop = scroll_pos['scrollTop'] + ((windowHeight / 2) - (pp_dimensions['containerHeight'] / 2));\n      if (projectedTop < 0) projectedTop = 0;\n\n      $ppt.fadeTo(settings.animation_speed, 1);\n\n      // Resize the content holder\n      $pp_pic_holder.find('.pp_content')\n        .animate({\n          height: pp_dimensions['contentHeight'],\n          width: pp_dimensions['contentWidth']\n        }, settings.animation_speed);\n\n      // Resize picture the holder\n      $pp_pic_holder.animate({\n        'top': projectedTop,\n        'left': ((windowWidth / 2) - (pp_dimensions['containerWidth'] / 2) < 0) ? 0 : (windowWidth / 2) - (pp_dimensions['containerWidth'] / 2),\n        width: pp_dimensions['containerWidth']\n      }, settings.animation_speed, function() {\n        $pp_pic_holder.find('.pp_hoverContainer,#fullResImage').height(pp_dimensions['height']).width(pp_dimensions['width']);\n\n        $pp_pic_holder.find('.pp_fade').fadeIn(settings.animation_speed); // Fade the new content\n\n        // Show the nav\n        if (isSet && _getFileType(pp_images[set_position]) == \"image\") {\n          $pp_pic_holder.find('.pp_hoverContainer').show();\n        } else {\n          $pp_pic_holder.find('.pp_hoverContainer').hide();\n        }\n\n        if (settings.allow_expand) {\n          if (pp_dimensions['resized']) { // Fade the resizing link if the image is resized\n            $('a.pp_expand,a.pp_contract').show();\n          } else {\n            $('a.pp_expand').hide();\n          }\n        }\n\n        if (settings.autoplay_slideshow && !pp_slideshow && !pp_open) $.prettyPhoto.startSlideshow();\n\n        settings.changepicturecallback(); // Callback!\n\n        pp_open = true;\n      });\n\n      _insert_gallery();\n      pp_settings.ajaxcallback();\n    };\n\n    /**\n     * Hide the content...DUH!\n     */\n    function _hideContent(callback) {\n      // Fade out the current picture\n      $pp_pic_holder.find('#pp_full_res object,#pp_full_res embed').css('visibility', 'hidden');\n      $pp_pic_holder.find('.pp_fade').fadeOut(settings.animation_speed, function() {\n        $('.pp_loaderIcon').show();\n\n        callback();\n      });\n    };\n\n    /**\n     * Check the item position in the gallery array, hide or show the navigation links\n     * @param setCount {integer} The total number of items in the set\n     */\n    function _checkPosition(setCount) {\n      (setCount > 1) ? $('.pp_nav').show(): $('.pp_nav').hide(); // Hide the bottom nav if it's not a set.\n    };\n\n    /**\n     * Resize the item dimensions if it's bigger than the viewport\n     * @param width {integer} Width of the item to be opened\n     * @param height {integer} Height of the item to be opened\n     * @return An array containin the \"fitted\" dimensions\n     */\n    function _fitToViewport(width, height) {\n      resized = false;\n\n      _getDimensions(width, height);\n\n      // Define them in case there's no resize needed\n      imageWidth = width, imageHeight = height;\n\n      if (((pp_containerWidth > windowWidth) || (pp_containerHeight > windowHeight)) && doresize && settings.allow_resize && !percentBased) {\n        resized = true, fitting = false;\n\n        while (!fitting) {\n          if ((pp_containerWidth > windowWidth)) {\n            imageWidth = (windowWidth - 200);\n            imageHeight = (height / width) * imageWidth;\n          } else if ((pp_containerHeight > windowHeight)) {\n            imageHeight = (windowHeight - 200);\n            imageWidth = (width / height) * imageHeight;\n          } else {\n            fitting = true;\n          };\n\n          pp_containerHeight = imageHeight, pp_containerWidth = imageWidth;\n        };\n\n\n\n        if ((pp_containerWidth > windowWidth) || (pp_containerHeight > windowHeight)) {\n          _fitToViewport(pp_containerWidth, pp_containerHeight)\n        };\n\n        _getDimensions(imageWidth, imageHeight);\n      };\n\n      return {\n        width: Math.floor(imageWidth),\n        height: Math.floor(imageHeight),\n        containerHeight: Math.floor(pp_containerHeight),\n        containerWidth: Math.floor(pp_containerWidth) + (settings.horizontal_padding * 2),\n        contentHeight: Math.floor(pp_contentHeight),\n        contentWidth: Math.floor(pp_contentWidth),\n        resized: resized\n      };\n    };\n\n    /**\n     * Get the containers dimensions according to the item size\n     * @param width {integer} Width of the item to be opened\n     * @param height {integer} Height of the item to be opened\n     */\n    function _getDimensions(width, height) {\n      width = parseFloat(width);\n      height = parseFloat(height);\n\n      // Get the details height, to do so, I need to clone it since it's invisible\n      $pp_details = $pp_pic_holder.find('.pp_details');\n      $pp_details.width(width);\n      detailsHeight = parseFloat($pp_details.css('marginTop')) + parseFloat($pp_details.css('marginBottom'));\n\n      $pp_details = $pp_details.clone().addClass(settings.theme).width(width).appendTo($('body')).css({\n        'position': 'absolute',\n        'top': -10000\n      });\n      detailsHeight += $pp_details.height();\n      detailsHeight = (detailsHeight <= 34) ? 36 : detailsHeight; // Min-height for the details\n      $pp_details.remove();\n\n      // Get the titles height, to do so, I need to clone it since it's invisible\n      $pp_title = $pp_pic_holder.find('.ppt');\n      $pp_title.width(width);\n      titleHeight = parseFloat($pp_title.css('marginTop')) + parseFloat($pp_title.css('marginBottom'));\n      $pp_title = $pp_title.clone().appendTo($('body')).css({\n        'position': 'absolute',\n        'top': -10000\n      });\n      titleHeight += $pp_title.height();\n      $pp_title.remove();\n\n      // Get the container size, to resize the holder to the right dimensions\n      pp_contentHeight = height + detailsHeight;\n      pp_contentWidth = width;\n      pp_containerHeight = pp_contentHeight + titleHeight + $pp_pic_holder.find('.pp_top').height() + $pp_pic_holder.find('.pp_bottom').height();\n      pp_containerWidth = width;\n    }\n\n    function _getFileType(itemSrc) {\n      if (itemSrc.match(/youtube\\.com\\/watch/i) || itemSrc.match(/youtu\\.be/i)) {\n        return 'youtube';\n      } else if (itemSrc.match(/vimeo\\.com/i)) {\n        return 'vimeo';\n      } else if (itemSrc.match(/\\b.mov\\b/i)) {\n        return 'quicktime';\n      } else if (itemSrc.match(/\\b.swf\\b/i)) {\n        return 'flash';\n      } else if (itemSrc.match(/\\biframe=true\\b/i)) {\n        return 'iframe';\n      } else if (itemSrc.match(/\\bajax=true\\b/i)) {\n        return 'ajax';\n      } else if (itemSrc.match(/\\bcustom=true\\b/i)) {\n        return 'custom';\n      } else if (itemSrc.substr(0, 1) == '#') {\n        return 'inline';\n      } else {\n        return 'image';\n      };\n    };\n\n    function _center_overlay() {\n      if (doresize && typeof $pp_pic_holder != 'undefined') {\n        scroll_pos = _get_scroll();\n        contentHeight = $pp_pic_holder.height(), contentwidth = $pp_pic_holder.width();\n\n        projectedTop = (windowHeight / 2) + scroll_pos['scrollTop'] - (contentHeight / 2);\n        if (projectedTop < 0) projectedTop = 0;\n\n        if (contentHeight > windowHeight)\n          return;\n\n        $pp_pic_holder.css({\n          'top': projectedTop,\n          'left': (windowWidth / 2) + scroll_pos['scrollLeft'] - (contentwidth / 2)\n        });\n      };\n    };\n\n    function _get_scroll() {\n      if (self.pageYOffset) {\n        return {\n          scrollTop: self.pageYOffset,\n          scrollLeft: self.pageXOffset\n        };\n      } else if (document.documentElement && document.documentElement.scrollTop) { // Explorer 6 Strict\n        return {\n          scrollTop: document.documentElement.scrollTop,\n          scrollLeft: document.documentElement.scrollLeft\n        };\n      } else if (document.body) { // all other Explorers\n        return {\n          scrollTop: document.body.scrollTop,\n          scrollLeft: document.body.scrollLeft\n        };\n      };\n    };\n\n    function _resize_overlay() {\n      windowHeight = $(window).height(), windowWidth = $(window).width();\n\n      if (typeof $pp_overlay != \"undefined\") $pp_overlay.height($(document).height()).width(windowWidth);\n    };\n\n    function _insert_gallery() {\n      if (isSet && settings.overlay_gallery && _getFileType(pp_images[set_position]) == \"image\") {\n        itemWidth = 52 + 5; // 52 beign the thumb width, 5 being the right margin.\n        navWidth = (settings.theme == \"facebook\" || settings.theme == \"pp_default\") ? 50 : 30; // Define the arrow width depending on the theme\n\n        itemsPerPage = Math.floor((pp_dimensions['containerWidth'] - 100 - navWidth) / itemWidth);\n        itemsPerPage = (itemsPerPage < pp_images.length) ? itemsPerPage : pp_images.length;\n        totalPage = Math.ceil(pp_images.length / itemsPerPage) - 1;\n\n        // Hide the nav in the case there's no need for links\n        if (totalPage == 0) {\n          navWidth = 0; // No nav means no width!\n          $pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').hide();\n        } else {\n          $pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').show();\n        };\n\n        galleryWidth = itemsPerPage * itemWidth;\n        fullGalleryWidth = pp_images.length * itemWidth;\n\n        // Set the proper width to the gallery items\n        $pp_gallery\n          .css('margin-left', -((galleryWidth / 2) + (navWidth / 2)))\n          .find('div:first').width(galleryWidth + 5)\n          .find('ul').width(fullGalleryWidth)\n          .find('li.selected').removeClass('selected');\n\n        goToPage = (Math.floor(set_position / itemsPerPage) < totalPage) ? Math.floor(set_position / itemsPerPage) : totalPage;\n\n        $.prettyPhoto.changeGalleryPage(goToPage);\n\n        $pp_gallery_li.filter(':eq(' + set_position + ')').addClass('selected');\n      } else {\n        $pp_pic_holder.find('.pp_content').unbind('mouseenter mouseleave');\n        // $pp_gallery.hide();\n      }\n    }\n\n    function _build_overlay(caller) {\n      // Inject Social Tool markup into General markup\n      if (settings.social_tools)\n        facebook_like_link = settings.social_tools.replace('{location_href}', encodeURIComponent(location.href));\n\n      settings.markup = settings.markup.replace('{pp_social}', '');\n\n      $('body').append(settings.markup); // Inject the markup\n\n      $pp_pic_holder = $('.pp_pic_holder'), $ppt = $('.ppt'), $pp_overlay = $('div.pp_overlay'); // Set my global selectors\n\n      // Inject the inline gallery!\n      if (isSet && settings.overlay_gallery) {\n        currentGalleryPage = 0;\n        toInject = \"\";\n        for (var i = 0; i < pp_images.length; i++) {\n          if (!pp_images[i].match(/\\b(jpg|jpeg|png|gif)\\b/gi)) {\n            classname = 'default';\n            img_src = '';\n          } else {\n            classname = '';\n            img_src = pp_images[i];\n          }\n          toInject += \"<li class='\" + classname + \"'><a href='#'><img src='\" + img_src + \"' width='50' alt='' /></a></li>\";\n        };\n\n        toInject = settings.gallery_markup.replace(/{gallery}/g, toInject);\n\n        $pp_pic_holder.find('#pp_full_res').after(toInject);\n\n        $pp_gallery = $('.pp_pic_holder .pp_gallery'), $pp_gallery_li = $pp_gallery.find('li'); // Set the gallery selectors\n\n        $pp_gallery.find('.pp_arrow_next').click(function() {\n          $.prettyPhoto.changeGalleryPage('next');\n          $.prettyPhoto.stopSlideshow();\n          return false;\n        });\n\n        $pp_gallery.find('.pp_arrow_previous').click(function() {\n          $.prettyPhoto.changeGalleryPage('previous');\n          $.prettyPhoto.stopSlideshow();\n          return false;\n        });\n\n        $pp_pic_holder.find('.pp_content').hover(\n          function() {\n            $pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeIn();\n          },\n          function() {\n            $pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeOut();\n          });\n\n        itemWidth = 52 + 5; // 52 beign the thumb width, 5 being the right margin.\n        $pp_gallery_li.each(function(i) {\n          $(this)\n            .find('a')\n            .click(function() {\n              $.prettyPhoto.changePage(i);\n              $.prettyPhoto.stopSlideshow();\n              return false;\n            });\n        });\n      };\n\n\n      // Inject the play/pause if it's a slideshow\n      if (settings.slideshow) {\n        $pp_pic_holder.find('.pp_nav').prepend('<a href=\"#\" class=\"pp_play\">Play</a>')\n        $pp_pic_holder.find('.pp_nav .pp_play').click(function() {\n          $.prettyPhoto.startSlideshow();\n          return false;\n        });\n      }\n\n      $pp_pic_holder.attr('class', 'pp_pic_holder ' + settings.theme); // Set the proper theme\n\n      $pp_overlay\n        .css({\n          'opacity': 0,\n          'height': $(document).height(),\n          'width': $(window).width()\n        })\n        .bind('click', function() {\n          if (!settings.modal) $.prettyPhoto.close();\n        });\n\n      $('a.pp_close').bind('click', function() {\n        $.prettyPhoto.close();\n        return false;\n      });\n\n\n      if (settings.allow_expand) {\n        $('a.pp_expand').bind('click', function(e) {\n          // Expand the image\n          if ($(this).hasClass('pp_expand')) {\n            $(this).removeClass('pp_expand').addClass('pp_contract');\n            doresize = false;\n          } else {\n            $(this).removeClass('pp_contract').addClass('pp_expand');\n            doresize = true;\n          };\n\n          _hideContent(function() {\n            $.prettyPhoto.open();\n          });\n\n          return false;\n        });\n      }\n\n      $pp_pic_holder.find('.pp_previous, .pp_nav .pp_arrow_previous').bind('click', function() {\n        $.prettyPhoto.changePage('previous');\n        $.prettyPhoto.stopSlideshow();\n        return false;\n      });\n\n      $pp_pic_holder.find('.pp_next, .pp_nav .pp_arrow_next').bind('click', function() {\n        $.prettyPhoto.changePage('next');\n        $.prettyPhoto.stopSlideshow();\n        return false;\n      });\n\n      _center_overlay(); // Center it\n    };\n\n    if (!pp_alreadyInitialized && getHashtag()) {\n      pp_alreadyInitialized = true;\n\n      // Grab the rel index to trigger the click on the correct element\n      hashIndex = getHashtag();\n      hashRel = hashIndex;\n      hashIndex = hashIndex.substring(hashIndex.indexOf('/') + 1, hashIndex.length - 1);\n      hashRel = hashRel.substring(0, hashRel.indexOf('/'));\n\n      // Little timeout to make sure all the prettyPhoto initialize scripts has been run.\n      // Useful in the event the page contain several init scripts.\n      setTimeout(function() {\n        $(\"a[\" + pp_settings.hook + \"^='\" + hashRel + \"']:eq(\" + hashIndex + \")\").trigger('click');\n      }, 50);\n    }\n\n    return this.unbind('click.prettyphoto').bind('click.prettyphoto', $.prettyPhoto.initialize); // Return the jQuery object for chaining. The unbind method is used to avoid click conflict when the plugin is called more than once\n  };\n\n  function getHashtag() {\n    var url = location.href;\n    hashtag = (url.indexOf('#prettyPhoto') !== -1) ? decodeURI(url.substring(url.indexOf('#prettyPhoto') + 1, url.length)) : false;\n\n    return hashtag;\n  };\n\n  function setHashtag() {\n    if (typeof theRel == 'undefined') return; // theRel is set on normal calls, it's impossible to deeplink using the API\n    location.hash = theRel + '/' + rel_index + '/';\n  };\n\n  function clearHashtag() {\n    if (location.href.indexOf('#prettyPhoto') !== -1) location.hash = \"prettyPhoto\";\n  }\n\n  function getParam(name, url) {\n    name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n    var regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n    var regex = new RegExp(regexS);\n    var results = regex.exec(url);\n    return (results == null) ? \"\" : results[1];\n  }\n\n})(jQuery);\n\nvar pp_alreadyInitialized = false; // Used for the deep linking to make sure not to call the same function several times.\n"],"sourceRoot":"/source/"}
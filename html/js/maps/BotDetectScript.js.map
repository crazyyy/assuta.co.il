{"version":3,"sources":["BotDetectScript.js"],"names":["LBD_LoadSound","soundPlaceholderId","soundLink","document","getElementById","i","indexOf","substring","LBD_GetTimestamp","location","protocol","cid","LBD_GetCookie","placeholder","objectSrc","LBD_GetMimeType","innerHTML","d","Date","t","getTime","getTimezoneOffset","mimeType","LBD_ReloadImage","imgId","LBD_ImgId","LBD_Img","src","newSrc","LBD_NewImg","createElement","onload","LBD_ShowImage","id","alt","LBD_ImagePrompt","appendChild","createTextNode","LBD_Parent","parentNode","removeChild","name","nameEQ","ca","cookie","split","length","c","charAt"],"mappings":"AAAA,QAASA,eAAcC,EAAoBC,GACzC,GAAIC,SAASC,eAAgB,CAC3B,GAAIC,GAAIH,EAAUI,QAAQ,MACtB,KAAMD,IACRH,EAAYA,EAAUK,UAAU,EAAGF,IAErCH,EAAYA,EAAY,MAAQM,mBAE3B,IAAMN,EAAUI,QAAQ,QAA0C,UAA9BH,SAASM,SAASC,WACzDR,GAAwB,QAG1BS,IAAMC,cAAc,oBAChBD,MACFT,EAAYA,EAAY,MAAQS,IAGlC,IAAIE,GAAcV,SAASC,eAAeH,GACtCa,EAAY,yQAA2QZ,EAAY,0CAA4CA,EAAY,sDAAwDa,kBAAoB,uCAE3aF,GAAYG,UAAY,GACxBH,EAAYG,UAAYF,GAI5B,QAASN,oBACP,GAAIS,GAAI,GAAIC,MACRC,EAAIF,EAAEG,UAAqC,IAAxBH,EAAEI,mBACzB,OAAOF,GAGT,QAASJ,mBACP,GAAIO,GAAW,aACf,OAAOA,GAST,QAASC,iBAAgBC,GACvB,GAAIA,EAAO,CACTC,UAAYD,EACZE,QAAUvB,SAASC,eAAeqB,UAClC,IAAIE,GAAMD,QAAQC,IAEdtB,EAAIsB,EAAIrB,QAAQ,MAChB,KAAMD,IACRsB,EAAMA,EAAIpB,UAAU,EAAGF,GAEzB,IAAIuB,GAASD,EAAM,MAAQnB,kBAE3BqB,YAAa1B,SAAS2B,cAAc,OACpCD,WAAWE,OAASC,cACpBH,WAAWI,GAAKP,QAAQO,GACxBJ,WAAWK,IAAMR,QAAQQ,IACzBL,WAAWF,IAAMC,EAEjBO,gBAAkBhC,SAAS2B,cAAc,QACzCK,gBAAgBC,YAAYjC,SAASkC,eAAe,eAEpDC,WAAaZ,QAAQa,WACrBD,WAAWE,YAAYd,SACvBY,WAAWF,YAAYD,kBAI3B,QAASH,iBACHH,YAAcS,YAAcH,kBAC9BG,WAAWE,YAAYL,iBACvBG,WAAWF,YAAYP,aAI3B,QAASjB,eAAc6B,GAGrB,IAAK,GAFDC,GAASD,EAAO,IAChBE,EAAKxC,SAASyC,OAAOC,MAAM,KACtBxC,EAAI,EAAGA,EAAIsC,EAAGG,OAAQzC,IAAK,CAElC,IADA,GAAI0C,GAAIJ,EAAGtC,GACW,KAAf0C,EAAEC,OAAO,IACdD,EAAIA,EAAExC,UAAU,EAAGwC,EAAED,OAEvB,IAAyB,GAArBC,EAAEzC,QAAQoC,GACZ,MAAOK,GAAExC,UAAUmC,EAAOI,OAAQC,EAAED,QAGxC,MAAO,MApDT,GAAIrB,WAAY,KACZC,QAAU,KACVG,WAAa,KACbS,WAAa,KACbH,gBAAkB","file":"BotDetectScript.js","sourcesContent":["function LBD_LoadSound(soundPlaceholderId, soundLink) {\n  if (document.getElementById) {\n    var i = soundLink.indexOf('&d=');\n    if (-1 != i) {\n      soundLink = soundLink.substring(0, i);\n    }\n    soundLink = soundLink + '&d=' + LBD_GetTimestamp();\n\n    if ((-1 == soundLink.indexOf('&e=')) && (document.location.protocol == \"https:\")) {\n      soundLink = soundLink + '&e=1';\n    }\n\n    cid = LBD_GetCookie(\"LanapBotDetectID\");\n    if (cid) {\n      soundLink = soundLink + '&s=' + cid;\n    }\n\n    var placeholder = document.getElementById(soundPlaceholderId);\n    var objectSrc = \"<object id='captchaSound' classid='clsid:22D6F312-B0F6-11D0-94AB-0080C74C7E95' height='0' width='0' style='width:0; height:0;'><param name='AutoStart' value='1' /><param name='Volume' value='0' /><param name='PlayCount' value='1' /><param name='FileName' value='\" + soundLink + \"' /><embed id='captchaSoundEmbed' src='\" + soundLink + \"' autoplay='true' hidden='true' volume='100' type='\" + LBD_GetMimeType() + \"' style='display:inline;' /></object>\";\n\n    placeholder.innerHTML = \"\";\n    placeholder.innerHTML = objectSrc;\n  }\n}\n\nfunction LBD_GetTimestamp() {\n  var d = new Date();\n  var t = d.getTime() + (d.getTimezoneOffset() * 60000);\n  return t;\n}\n\nfunction LBD_GetMimeType() {\n  var mimeType = \"audio/x-wav\";\n  return mimeType;\n}\n\nvar LBD_ImgId = null;\nvar LBD_Img = null;\nvar LBD_NewImg = null;\nvar LBD_Parent = null;\nvar LBD_ImagePrompt = null;\n\nfunction LBD_ReloadImage(imgId) {\n  if (imgId) {\n    LBD_ImgId = imgId;\n    LBD_Img = document.getElementById(LBD_ImgId);\n    var src = LBD_Img.src;\n\n    var i = src.indexOf('&d=');\n    if (-1 != i) {\n      src = src.substring(0, i);\n    }\n    var newSrc = src + '&d=' + LBD_GetTimestamp();\n\n    LBD_NewImg = document.createElement('img');\n    LBD_NewImg.onload = LBD_ShowImage;\n    LBD_NewImg.id = LBD_Img.id;\n    LBD_NewImg.alt = LBD_Img.alt;\n    LBD_NewImg.src = newSrc;\n\n    LBD_ImagePrompt = document.createElement('span');\n    LBD_ImagePrompt.appendChild(document.createTextNode('loading...'));\n\n    LBD_Parent = LBD_Img.parentNode;\n    LBD_Parent.removeChild(LBD_Img);\n    LBD_Parent.appendChild(LBD_ImagePrompt);\n  }\n}\n\nfunction LBD_ShowImage() {\n  if (LBD_NewImg && LBD_Parent && LBD_ImagePrompt) {\n    LBD_Parent.removeChild(LBD_ImagePrompt);\n    LBD_Parent.appendChild(LBD_NewImg);\n  }\n}\n\nfunction LBD_GetCookie(name) {\n  var nameEQ = name + \"=\";\n  var ca = document.cookie.split(';');\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1, c.length);\n    }\n    if (c.indexOf(nameEQ) == 0) {\n      return c.substring(nameEQ.length, c.length);\n    }\n  }\n  return null;\n}\n"],"sourceRoot":"/source/"}
{"version":3,"sources":["BotDetectScript.js"],"names":["LBD_LoadSound","soundPlaceholderId","soundLink","document","getElementById","i","indexOf","substring","LBD_GetTimestamp","location","protocol","cid","LBD_GetCookie","placeholder","objectSrc","LBD_GetMimeType","innerHTML","d","Date","t","getTime","getTimezoneOffset","mimeType","LBD_ReloadImage","imgId","LBD_ImgId","LBD_Img","src","newSrc","LBD_NewImg","createElement","onload","LBD_ShowImage","id","alt","LBD_ImagePrompt","appendChild","createTextNode","LBD_Parent","parentNode","removeChild","name","nameEQ","ca","cookie","split","length","c","charAt"],"mappings":"AAAA,QAASA,eAAcC,EAAoBC,GACzC,GAAGC,SAASC,eAAgB,CAC1B,GAAIC,GAAIH,EAAUI,QAAQ,MACtB,KAAMD,IACRH,EAAYA,EAAUK,UAAU,EAAGF,IAErCH,EAAYA,EAAY,MAAQM,mBAE1B,IAAMN,EAAUI,QAAQ,QAA0C,UAA9BH,SAASM,SAASC,WAC1DR,GAAwB,QAG1BS,IAAMC,cAAc,oBAChBD,MACFT,EAAYA,EAAY,MAAQS,IAGlC,IAAIE,GAAcV,SAASC,eAAeH,GACtCa,EAAY,yQAA2QZ,EAAY,0CAA2CA,EAAY,sDAAuDa,kBAAmB,uCAExaF,GAAYG,UAAY,GACxBH,EAAYG,UAAYF,GAI5B,QAASN,oBACP,GAAIS,GAAI,GAAIC,MACRC,EAAIF,EAAEG,UAAqC,IAAxBH,EAAEI,mBACzB,OAAOF,GAGT,QAASJ,mBACP,GAAIO,GAAW,aACf,OAAOA,GAST,QAASC,iBAAgBC,GACvB,GAAGA,EAAO,CACRC,UAAYD,EACZE,QAAUvB,SAASC,eAAeqB,UAClC,IAAIE,GAAMD,QAAQC,IAEdtB,EAAIsB,EAAIrB,QAAQ,MAChB,KAAMD,IACRsB,EAAMA,EAAIpB,UAAU,EAAGF,GAEzB,IAAIuB,GAASD,EAAM,MAAQnB,kBAE3BqB,YAAa1B,SAAS2B,cAAc,OACpCD,WAAWE,OAASC,cACpBH,WAAWI,GAAKP,QAAQO,GACxBJ,WAAWK,IAAMR,QAAQQ,IACzBL,WAAWF,IAAMC,EAEjBO,gBAAkBhC,SAAS2B,cAAc,QACzCK,gBAAgBC,YAAYjC,SAASkC,eAAe,eAEpDC,WAAaZ,QAAQa,WACrBD,WAAWE,YAAYd,SACvBY,WAAWF,YAAYD,kBAI3B,QAASH,iBACJH,YAAcS,YAAcH,kBAC7BG,WAAWE,YAAYL,iBACvBG,WAAWF,YAAYP,aAI3B,QAASjB,eAAc6B,GAGrB,IAAI,GAFAC,GAASD,EAAO,IAChBE,EAAKxC,SAASyC,OAAOC,MAAM,KACvBxC,EAAE,EAAGA,EAAIsC,EAAGG,OAAQzC,IAAK,CAE/B,IADA,GAAI0C,GAAIJ,EAAGtC,GACW,KAAf0C,EAAEC,OAAO,IACdD,EAAIA,EAAExC,UAAU,EAAGwC,EAAED,OAEvB,IAAyB,GAArBC,EAAEzC,QAAQoC,GACZ,MAAOK,GAAExC,UAAUmC,EAAOI,OAAQC,EAAED,QAGxC,MAAO,MApDT,GAAIrB,WAAY,KACZC,QAAU,KACVG,WAAa,KACbS,WAAa,KACbH,gBAAkB","file":"BotDetectScript.js","sourcesContent":["function LBD_LoadSound(soundPlaceholderId, soundLink) {\r\n  if(document.getElementById) {\r\n    var i = soundLink.indexOf('&d=');\r\n    if (-1 != i) {\r\n      soundLink = soundLink.substring(0, i);\r\n    }\r\n    soundLink = soundLink + '&d=' + LBD_GetTimestamp();\r\n\r\n    if ( (-1 == soundLink.indexOf('&e=')) && (document.location.protocol == \"https:\")) {\r\n      soundLink = soundLink + '&e=1';\r\n    }\r\n    \r\n    cid = LBD_GetCookie(\"LanapBotDetectID\");\r\n    if (cid) {\r\n      soundLink = soundLink + '&s=' + cid;\r\n    }\r\n\r\n    var placeholder = document.getElementById(soundPlaceholderId);\r\n    var objectSrc = \"<object id='captchaSound' classid='clsid:22D6F312-B0F6-11D0-94AB-0080C74C7E95' height='0' width='0' style='width:0; height:0;'><param name='AutoStart' value='1' /><param name='Volume' value='0' /><param name='PlayCount' value='1' /><param name='FileName' value='\" + soundLink + \"' /><embed id='captchaSoundEmbed' src='\"+ soundLink + \"' autoplay='true' hidden='true' volume='100' type='\"+ LBD_GetMimeType() +\"' style='display:inline;' /></object>\";\r\n\r\n    placeholder.innerHTML = \"\";\r\n    placeholder.innerHTML = objectSrc;\r\n  }\r\n}\r\n\r\nfunction LBD_GetTimestamp() {\r\n  var d = new Date();\r\n  var t = d.getTime() + (d.getTimezoneOffset() * 60000);\r\n  return t;\r\n}\r\n\r\nfunction LBD_GetMimeType() {\r\n  var mimeType = \"audio/x-wav\";\r\n  return mimeType;\r\n}\r\n\r\nvar LBD_ImgId = null;\r\nvar LBD_Img = null;\r\nvar LBD_NewImg = null;\r\nvar LBD_Parent = null;\r\nvar LBD_ImagePrompt = null;\r\n\r\nfunction LBD_ReloadImage(imgId) {\r\n  if(imgId) {\r\n    LBD_ImgId = imgId;\r\n    LBD_Img = document.getElementById(LBD_ImgId);\r\n    var src = LBD_Img.src;\r\n\r\n    var i = src.indexOf('&d=');\r\n    if (-1 != i) {\r\n      src = src.substring(0, i);\r\n    }\r\n    var newSrc = src + '&d=' + LBD_GetTimestamp();\r\n\r\n    LBD_NewImg = document.createElement('img');\r\n    LBD_NewImg.onload = LBD_ShowImage;\r\n    LBD_NewImg.id = LBD_Img.id;\r\n    LBD_NewImg.alt = LBD_Img.alt;\r\n    LBD_NewImg.src = newSrc;\r\n\r\n    LBD_ImagePrompt = document.createElement('span');\r\n    LBD_ImagePrompt.appendChild(document.createTextNode('loading...'));\r\n\r\n    LBD_Parent = LBD_Img.parentNode;\r\n    LBD_Parent.removeChild(LBD_Img);\r\n    LBD_Parent.appendChild(LBD_ImagePrompt);\r\n  }\r\n}\r\n\r\nfunction LBD_ShowImage() {\r\n  if(LBD_NewImg && LBD_Parent && LBD_ImagePrompt) {\r\n    LBD_Parent.removeChild(LBD_ImagePrompt);\r\n    LBD_Parent.appendChild(LBD_NewImg);\r\n  }\r\n}\r\n\r\nfunction LBD_GetCookie(name) {\r\n  var nameEQ = name + \"=\";\r\n  var ca = document.cookie.split(';');\r\n  for(var i=0; i < ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) == ' ') {\r\n      c = c.substring(1, c.length);\r\n    }\r\n    if (c.indexOf(nameEQ) == 0) {\r\n      return c.substring(nameEQ.length, c.length);\r\n    }\r\n  }\r\n  return null;\r\n}"],"sourceRoot":"/source/"}